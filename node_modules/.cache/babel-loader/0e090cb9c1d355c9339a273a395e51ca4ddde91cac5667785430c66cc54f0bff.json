{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{Box,Typography,Paper,TextField,Button,Grid,Divider,List,ListItem,ListItemText,ListItemSecondaryAction,IconButton,Dialog,DialogTitle,DialogContent,DialogActions,FormControl,InputLabel,Select,MenuItem,Chip,CircularProgress}from'@mui/material';import{Save as SaveIcon,ArrowBack as ArrowBackIcon,Add as AddIcon,Delete as DeleteIcon,Search as SearchIcon}from'@mui/icons-material';import api from'../../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function TemplateForm(){const{id}=useParams();const navigate=useNavigate();const isEditing=id!==undefined;// Стан для форми шаблону\nconst[template,setTemplate]=useState({name:'',description:'',position:''});// Стан для списку питань в шаблоні\nconst[templateQuestions,setTemplateQuestions]=useState([]);// Стан для банку питань\nconst[allQuestions,setAllQuestions]=useState([]);const[filteredQuestions,setFilteredQuestions]=useState([]);// Стан для фільтрів\nconst[units,setUnits]=useState([]);const[difficulties,setDifficulties]=useState([]);const[levels,setLevels]=useState([]);const[groups,setGroups]=useState([]);// Стан для модального вікна додавання питань\nconst[openQuestionsDialog,setOpenQuestionsDialog]=useState(false);const[selectedQuestions,setSelectedQuestions]=useState([]);// Стан для фільтрації питань\nconst[questionFilters,setQuestionFilters]=useState({unit_id:'',difficulty_id:'',level_id:'',group_id:'',text_search:''});// Стан для індикатора завантаження\nconst[loading,setLoading]=useState(false);// Отримання даних шаблону при завантаженні компонента\nuseEffect(()=>{const fetchData=async()=>{setLoading(true);try{// Отримання даних для фільтрів\nawait fetchFilters();// Отримання всіх питань\nconst questionsResponse=await api.get('/api/questions');setAllQuestions(questionsResponse.data);setFilteredQuestions(questionsResponse.data);// Якщо редагуємо існуючий шаблон\nif(isEditing){const templateResponse=await api.get(`/api/templates/${id}`);setTemplate({name:templateResponse.data.name,description:templateResponse.data.description,position:templateResponse.data.position});// Отримання питань шаблону\nconst templateQuestionsIds=templateResponse.data.questions;const templateQuestionsData=questionsResponse.data.filter(q=>templateQuestionsIds.includes(q.id));setTemplateQuestions(templateQuestionsData);}}catch(error){console.error('Помилка при отриманні даних:',error);}finally{setLoading(false);}};fetchData();},[id,isEditing]);// Отримання даних для фільтрів\nconst fetchFilters=async()=>{try{const[unitsResponse,difficultiesResponse,levelsResponse,groupsResponse]=await Promise.all([api.get('/api/questions/units'),api.get('/api/questions/difficulties'),api.get('/api/questions/seniority-levels'),api.get('/api/questions/groups')]);setUnits(unitsResponse.data);setDifficulties(difficultiesResponse.data);setLevels(levelsResponse.data);setGroups(groupsResponse.data);}catch(error){console.error('Помилка при отриманні фільтрів:',error);}};// Обробка зміни значень форми\nconst handleTemplateChange=event=>{const{name,value}=event.target;setTemplate({...template,[name]:value});};// Обробка збереження шаблону\nconst handleSaveTemplate=async()=>{try{setLoading(true);let templateId;// Створення або оновлення шаблону\nif(isEditing){await api.put(`/api/templates/${id}`,template);templateId=id;}else{const response=await api.post('/api/templates',template);templateId=response.data.id;}// Додавання питань до шаблону\nconst questionIds=templateQuestions.map(q=>q.id);await api.post(`/api/templates/${templateId}/questions`,{template_id:templateId,questions:questionIds});navigate('/templates');}catch(error){console.error('Помилка при збереженні шаблону:',error);}finally{setLoading(false);}};// Обробка видалення питання з шаблону\nconst handleRemoveQuestion=questionId=>{setTemplateQuestions(templateQuestions.filter(q=>q.id!==questionId));};// Обробка відкриття модального вікна додавання питань\nconst handleOpenAddQuestions=()=>{// Скидання вибраних питань\nsetSelectedQuestions([]);setOpenQuestionsDialog(true);};// Обробка зміни вибраних питань\nconst handleToggleQuestion=question=>{const currentIndex=selectedQuestions.findIndex(q=>q.id===question.id);const newSelected=[...selectedQuestions];if(currentIndex===-1){newSelected.push(question);}else{newSelected.splice(currentIndex,1);}setSelectedQuestions(newSelected);};// Обробка додавання вибраних питань до шаблону\nconst handleAddSelectedQuestions=()=>{// Додаємо питання, які ще не додані до шаблону\nconst existingIds=templateQuestions.map(q=>q.id);const newQuestions=selectedQuestions.filter(q=>!existingIds.includes(q.id));setTemplateQuestions([...templateQuestions,...newQuestions]);setOpenQuestionsDialog(false);};// Обробка зміни фільтрів для питань\nconst handleQuestionFilterChange=event=>{const{name,value}=event.target;setQuestionFilters({...questionFilters,[name]:value});};// Обробка застосування фільтрів для питань\nconst handleApplyQuestionFilters=()=>{const filtered=allQuestions.filter(question=>{// Перевіряємо кожний фільтр\nif(questionFilters.unit_id&&question.unit_id!==parseInt(questionFilters.unit_id)){return false;}if(questionFilters.difficulty_id&&question.difficulty_id!==parseInt(questionFilters.difficulty_id)){return false;}if(questionFilters.level_id&&question.level_id!==parseInt(questionFilters.level_id)){return false;}if(questionFilters.group_id&&question.group_id!==parseInt(questionFilters.group_id)){return false;}if(questionFilters.text_search&&!question.text.toLowerCase().includes(questionFilters.text_search.toLowerCase())){return false;}return true;});setFilteredQuestions(filtered);};// Обробка скидання фільтрів для питань\nconst handleResetQuestionFilters=()=>{setQuestionFilters({unit_id:'',difficulty_id:'',level_id:'',group_id:'',text_search:''});setFilteredQuestions(allQuestions);};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(ArrowBackIcon,{}),onClick:()=>navigate('/templates'),sx:{mr:2},children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",children:isEditing?'Редагування шаблону':'Створення нового шаблону'})]}),loading?/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',my:4},children:/*#__PURE__*/_jsx(CircularProgress,{})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u0430 \\u0456\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0456\\u044F\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{label:\"\\u041D\\u0430\\u0437\\u0432\\u0430 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0443\",name:\"name\",value:template.name,onChange:handleTemplateChange,fullWidth:true,required:true})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{label:\"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0456\\u044F\",name:\"position\",value:template.position,onChange:handleTemplateChange,fullWidth:true,required:true,helperText:\"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043A\\u043B\\u0430\\u0434: Senior React Engineer\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{label:\"\\u041E\\u043F\\u0438\\u0441 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0443\",name:\"description\",value:template.description,onChange:handleTemplateChange,fullWidth:true,multiline:true,rows:3})})]})]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"\\u041F\\u0438\\u0442\\u0430\\u043D\\u043D\\u044F \\u0432 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0456 (\",templateQuestions.length,\")\"]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:handleOpenAddQuestions,children:\"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u043F\\u0438\\u0442\\u0430\\u043D\\u043D\\u044F\"})]}),templateQuestions.length===0?/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",sx:{my:3,textAlign:'center'},children:\"\\u0423 \\u0446\\u044C\\u043E\\u043C\\u0443 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0456 \\u0449\\u0435 \\u043D\\u0435\\u043C\\u0430\\u0454 \\u043F\\u0438\\u0442\\u0430\\u043D\\u044C. \\u0414\\u043E\\u0434\\u0430\\u0439\\u0442\\u0435 \\u043F\\u0438\\u0442\\u0430\\u043D\\u043D\\u044F \\u0434\\u043B\\u044F \\u043F\\u043E\\u0447\\u0430\\u0442\\u043A\\u0443 \\u0440\\u043E\\u0431\\u043E\\u0442\\u0438.\"}):/*#__PURE__*/_jsx(List,{children:templateQuestions.map(question=>{var _difficulties$find,_levels$find;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemText,{primary:question.text,secondary:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Chip,{label:((_difficulties$find=difficulties.find(d=>d.id===question.difficulty_id))===null||_difficulties$find===void 0?void 0:_difficulties$find.name)||'Невідома складність',size:\"small\",sx:{mr:1}}),/*#__PURE__*/_jsx(Chip,{label:((_levels$find=levels.find(l=>l.id===question.level_id))===null||_levels$find===void 0?void 0:_levels$find.name)||'Невідомий рівень',size:\"small\",sx:{mr:1}}),/*#__PURE__*/_jsx(Chip,{label:`Вага: ${question.weight}`,size:\"small\"})]})}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(IconButton,{edge:\"end\",\"aria-label\":\"delete\",onClick:()=>handleRemoveQuestion(question.id),children:/*#__PURE__*/_jsx(DeleteIcon,{})})})]}),/*#__PURE__*/_jsx(Divider,{})]},question.id);})})]}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'flex-end',mt:3},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/_jsx(SaveIcon,{}),onClick:handleSaveTemplate,disabled:!template.name||!template.position,children:\"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\"})}),/*#__PURE__*/_jsxs(Dialog,{open:openQuestionsDialog,onClose:()=>setOpenQuestionsDialog(false),maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u043F\\u0438\\u0442\\u0430\\u043D\\u043D\\u044F \\u0434\\u043E \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0443\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"\\u0424\\u0456\\u043B\\u044C\\u0442\\u0440\\u0438\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"\\u041F\\u0456\\u0434\\u0440\\u043E\\u0437\\u0434\\u0456\\u043B/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\"}),/*#__PURE__*/_jsxs(Select,{name:\"unit_id\",value:questionFilters.unit_id,onChange:handleQuestionFilterChange,label:\"\\u041F\\u0456\\u0434\\u0440\\u043E\\u0437\\u0434\\u0456\\u043B/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"\\u0412\\u0441\\u0456\"}),units.map(unit=>/*#__PURE__*/_jsx(MenuItem,{value:unit.id,children:unit.name},unit.id))]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"\\u0421\\u043A\\u043B\\u0430\\u0434\\u043D\\u0456\\u0441\\u0442\\u044C\"}),/*#__PURE__*/_jsxs(Select,{name:\"difficulty_id\",value:questionFilters.difficulty_id,onChange:handleQuestionFilterChange,label:\"\\u0421\\u043A\\u043B\\u0430\\u0434\\u043D\\u0456\\u0441\\u0442\\u044C\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"\\u0412\\u0441\\u0456\"}),difficulties.map(difficulty=>/*#__PURE__*/_jsx(MenuItem,{value:difficulty.id,children:difficulty.name},difficulty.id))]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"\\u0420\\u0456\\u0432\\u0435\\u043D\\u044C\"}),/*#__PURE__*/_jsxs(Select,{name:\"level_id\",value:questionFilters.level_id,onChange:handleQuestionFilterChange,label:\"\\u0420\\u0456\\u0432\\u0435\\u043D\\u044C\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"\\u0412\\u0441\\u0456\"}),levels.map(level=>/*#__PURE__*/_jsx(MenuItem,{value:level.id,children:level.name},level.id))]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(TextField,{name:\"text_search\",label:\"\\u041F\\u043E\\u0448\\u0443\\u043A \\u0437\\u0430 \\u0442\\u0435\\u043A\\u0441\\u0442\\u043E\\u043C\",value:questionFilters.text_search,onChange:handleQuestionFilterChange,size:\"small\",fullWidth:true})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,md:8,children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(SearchIcon,{}),onClick:handleApplyQuestionFilters,sx:{mr:1},children:\"\\u0417\\u0430\\u0441\\u0442\\u043E\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438\"}),/*#__PURE__*/_jsx(Button,{variant:\"text\",onClick:handleResetQuestionFilters,children:\"\\u0421\\u043A\\u0438\\u043D\\u0443\\u0442\\u0438\"})]})]})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",gutterBottom:true,children:[\"\\u0412\\u0438\\u0431\\u0435\\u0440\\u0456\\u0442\\u044C \\u043F\\u0438\\u0442\\u0430\\u043D\\u043D\\u044F \\u0434\\u043B\\u044F \\u0434\\u043E\\u0434\\u0430\\u0432\\u0430\\u043D\\u043D\\u044F (\",selectedQuestions.length,\" \\u0432\\u0438\\u0431\\u0440\\u0430\\u043D\\u043E)\"]}),/*#__PURE__*/_jsxs(List,{sx:{maxHeight:'400px',overflow:'auto'},children:[filteredQuestions.map(question=>{var _difficulties$find2,_levels$find2;const isSelected=selectedQuestions.some(q=>q.id===question.id);const isAlreadyInTemplate=templateQuestions.some(q=>q.id===question.id);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ListItem,{button:true,onClick:()=>!isAlreadyInTemplate&&handleToggleQuestion(question),selected:isSelected,disabled:isAlreadyInTemplate,sx:{opacity:isAlreadyInTemplate?0.5:1,bgcolor:isAlreadyInTemplate?'rgba(0, 0, 0, 0.05)':'inherit'},children:/*#__PURE__*/_jsx(ListItemText,{primary:question.text,secondary:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Chip,{label:((_difficulties$find2=difficulties.find(d=>d.id===question.difficulty_id))===null||_difficulties$find2===void 0?void 0:_difficulties$find2.name)||'Невідома складність',size:\"small\",sx:{mr:1}}),/*#__PURE__*/_jsx(Chip,{label:((_levels$find2=levels.find(l=>l.id===question.level_id))===null||_levels$find2===void 0?void 0:_levels$find2.name)||'Невідомий рівень',size:\"small\",sx:{mr:1}}),/*#__PURE__*/_jsx(Chip,{label:`Вага: ${question.weight}`,size:\"small\"}),isAlreadyInTemplate&&/*#__PURE__*/_jsx(Chip,{label:\"\\u0412\\u0436\\u0435 \\u0432 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0456\",color:\"primary\",size:\"small\",sx:{ml:1}})]})})}),/*#__PURE__*/_jsx(Divider,{})]},question.id);}),filteredQuestions.length===0&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{p:2,textAlign:'center'},children:\"\\u041D\\u0435 \\u0437\\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E \\u0436\\u043E\\u0434\\u043D\\u043E\\u0433\\u043E \\u043F\\u0438\\u0442\\u0430\\u043D\\u043D\\u044F \\u0437\\u0430 \\u0432\\u043A\\u0430\\u0437\\u0430\\u043D\\u0438\\u043C\\u0438 \\u043A\\u0440\\u0438\\u0442\\u0435\\u0440\\u0456\\u044F\\u043C\\u0438\"})]})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenQuestionsDialog(false),children:\"\\u0421\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438\"}),/*#__PURE__*/_jsxs(Button,{onClick:handleAddSelectedQuestions,variant:\"contained\",color:\"primary\",disabled:selectedQuestions.length===0,children:[\"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u0432\\u0438\\u0431\\u0440\\u0430\\u043D\\u0456 (\",selectedQuestions.length,\")\"]})]})]})]})]});}export default TemplateForm;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Box","Typography","Paper","TextField","Button","Grid","Divider","List","ListItem","ListItemText","ListItemSecondaryAction","IconButton","Dialog","DialogTitle","DialogContent","DialogActions","FormControl","InputLabel","Select","MenuItem","Chip","CircularProgress","Save","SaveIcon","ArrowBack","ArrowBackIcon","Add","AddIcon","Delete","DeleteIcon","Search","SearchIcon","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TemplateForm","id","navigate","isEditing","undefined","template","setTemplate","name","description","position","templateQuestions","setTemplateQuestions","allQuestions","setAllQuestions","filteredQuestions","setFilteredQuestions","units","setUnits","difficulties","setDifficulties","levels","setLevels","groups","setGroups","openQuestionsDialog","setOpenQuestionsDialog","selectedQuestions","setSelectedQuestions","questionFilters","setQuestionFilters","unit_id","difficulty_id","level_id","group_id","text_search","loading","setLoading","fetchData","fetchFilters","questionsResponse","get","data","templateResponse","templateQuestionsIds","questions","templateQuestionsData","filter","q","includes","error","console","unitsResponse","difficultiesResponse","levelsResponse","groupsResponse","Promise","all","handleTemplateChange","event","value","target","handleSaveTemplate","templateId","put","response","post","questionIds","map","template_id","handleRemoveQuestion","questionId","handleOpenAddQuestions","handleToggleQuestion","question","currentIndex","findIndex","newSelected","push","splice","handleAddSelectedQuestions","existingIds","newQuestions","handleQuestionFilterChange","handleApplyQuestionFilters","filtered","parseInt","text","toLowerCase","handleResetQuestionFilters","children","sx","display","alignItems","mb","variant","startIcon","onClick","mr","component","justifyContent","my","p","gutterBottom","container","spacing","item","xs","md","label","onChange","fullWidth","required","helperText","multiline","rows","length","color","textAlign","_difficulties$find","_levels$find","primary","secondary","find","d","size","l","weight","edge","mt","disabled","open","onClose","maxWidth","sm","unit","difficulty","level","maxHeight","overflow","_difficulties$find2","_levels$find2","isSelected","some","isAlreadyInTemplate","button","selected","opacity","bgcolor","ml"],"sources":["/Users/myda2/Documents/AlicationForm/interview-service/interview-service-frontend/src/components/Templates/TemplateForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Typography,\n  Paper,\n  TextField,\n  Button,\n  Grid,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Chip,\n  CircularProgress,\n} from '@mui/material';\nimport {\n  Save as SaveIcon,\n  ArrowBack as ArrowBackIcon,\n  Add as AddIcon,\n  Delete as DeleteIcon,\n  Search as SearchIcon,\n} from '@mui/icons-material';\nimport api from '../../services/api';\n\nfunction TemplateForm() {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const isEditing = id !== undefined;\n  \n  // Стан для форми шаблону\n  const [template, setTemplate] = useState({\n    name: '',\n    description: '',\n    position: '',\n  });\n  \n  // Стан для списку питань в шаблоні\n  const [templateQuestions, setTemplateQuestions] = useState([]);\n  \n  // Стан для банку питань\n  const [allQuestions, setAllQuestions] = useState([]);\n  const [filteredQuestions, setFilteredQuestions] = useState([]);\n  \n  // Стан для фільтрів\n  const [units, setUnits] = useState([]);\n  const [difficulties, setDifficulties] = useState([]);\n  const [levels, setLevels] = useState([]);\n  const [groups, setGroups] = useState([]);\n  \n  // Стан для модального вікна додавання питань\n  const [openQuestionsDialog, setOpenQuestionsDialog] = useState(false);\n  const [selectedQuestions, setSelectedQuestions] = useState([]);\n  \n  // Стан для фільтрації питань\n  const [questionFilters, setQuestionFilters] = useState({\n    unit_id: '',\n    difficulty_id: '',\n    level_id: '',\n    group_id: '',\n    text_search: '',\n  });\n  \n  // Стан для індикатора завантаження\n  const [loading, setLoading] = useState(false);\n  \n  // Отримання даних шаблону при завантаженні компонента\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        // Отримання даних для фільтрів\n        await fetchFilters();\n        \n        // Отримання всіх питань\n        const questionsResponse = await api.get('/api/questions');\n        setAllQuestions(questionsResponse.data);\n        setFilteredQuestions(questionsResponse.data);\n        \n        // Якщо редагуємо існуючий шаблон\n        if (isEditing) {\n          const templateResponse = await api.get(`/api/templates/${id}`);\n          setTemplate({\n            name: templateResponse.data.name,\n            description: templateResponse.data.description,\n            position: templateResponse.data.position,\n          });\n          \n          // Отримання питань шаблону\n          const templateQuestionsIds = templateResponse.data.questions;\n          const templateQuestionsData = questionsResponse.data.filter(q => \n            templateQuestionsIds.includes(q.id)\n          );\n          setTemplateQuestions(templateQuestionsData);\n        }\n      } catch (error) {\n        console.error('Помилка при отриманні даних:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchData();\n  }, [id, isEditing]);\n  \n  // Отримання даних для фільтрів\n  const fetchFilters = async () => {\n    try {\n      const [unitsResponse, difficultiesResponse, levelsResponse, groupsResponse] = await Promise.all([\n        api.get('/api/questions/units'),\n        api.get('/api/questions/difficulties'),\n        api.get('/api/questions/seniority-levels'),\n        api.get('/api/questions/groups'),\n      ]);\n      \n      setUnits(unitsResponse.data);\n      setDifficulties(difficultiesResponse.data);\n      setLevels(levelsResponse.data);\n      setGroups(groupsResponse.data);\n    } catch (error) {\n      console.error('Помилка при отриманні фільтрів:', error);\n    }\n  };\n  \n  // Обробка зміни значень форми\n  const handleTemplateChange = (event) => {\n    const { name, value } = event.target;\n    setTemplate({\n      ...template,\n      [name]: value,\n    });\n  };\n  \n  // Обробка збереження шаблону\n  const handleSaveTemplate = async () => {\n    try {\n      setLoading(true);\n      \n      let templateId;\n      \n      // Створення або оновлення шаблону\n      if (isEditing) {\n        await api.put(`/api/templates/${id}`, template);\n        templateId = id;\n      } else {\n        const response = await api.post('/api/templates', template);\n        templateId = response.data.id;\n      }\n      \n      // Додавання питань до шаблону\n      const questionIds = templateQuestions.map(q => q.id);\n      await api.post(`/api/templates/${templateId}/questions`, {\n        template_id: templateId,\n        questions: questionIds,\n      });\n      \n      navigate('/templates');\n    } catch (error) {\n      console.error('Помилка при збереженні шаблону:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // Обробка видалення питання з шаблону\n  const handleRemoveQuestion = (questionId) => {\n    setTemplateQuestions(templateQuestions.filter(q => q.id !== questionId));\n  };\n  \n  // Обробка відкриття модального вікна додавання питань\n  const handleOpenAddQuestions = () => {\n    // Скидання вибраних питань\n    setSelectedQuestions([]);\n    setOpenQuestionsDialog(true);\n  };\n  \n  // Обробка зміни вибраних питань\n  const handleToggleQuestion = (question) => {\n    const currentIndex = selectedQuestions.findIndex(q => q.id === question.id);\n    const newSelected = [...selectedQuestions];\n    \n    if (currentIndex === -1) {\n      newSelected.push(question);\n    } else {\n      newSelected.splice(currentIndex, 1);\n    }\n    \n    setSelectedQuestions(newSelected);\n  };\n  \n  // Обробка додавання вибраних питань до шаблону\n  const handleAddSelectedQuestions = () => {\n    // Додаємо питання, які ще не додані до шаблону\n    const existingIds = templateQuestions.map(q => q.id);\n    const newQuestions = selectedQuestions.filter(q => !existingIds.includes(q.id));\n    \n    setTemplateQuestions([...templateQuestions, ...newQuestions]);\n    setOpenQuestionsDialog(false);\n  };\n  \n  // Обробка зміни фільтрів для питань\n  const handleQuestionFilterChange = (event) => {\n    const { name, value } = event.target;\n    setQuestionFilters({\n      ...questionFilters,\n      [name]: value,\n    });\n  };\n  \n  // Обробка застосування фільтрів для питань\n  const handleApplyQuestionFilters = () => {\n    const filtered = allQuestions.filter(question => {\n      // Перевіряємо кожний фільтр\n      if (questionFilters.unit_id && question.unit_id !== parseInt(questionFilters.unit_id)) {\n        return false;\n      }\n      if (questionFilters.difficulty_id && question.difficulty_id !== parseInt(questionFilters.difficulty_id)) {\n        return false;\n      }\n      if (questionFilters.level_id && question.level_id !== parseInt(questionFilters.level_id)) {\n        return false;\n      }\n      if (questionFilters.group_id && question.group_id !== parseInt(questionFilters.group_id)) {\n        return false;\n      }\n      if (questionFilters.text_search && !question.text.toLowerCase().includes(questionFilters.text_search.toLowerCase())) {\n        return false;\n      }\n      \n      return true;\n    });\n    \n    setFilteredQuestions(filtered);\n  };\n  \n  // Обробка скидання фільтрів для питань\n  const handleResetQuestionFilters = () => {\n    setQuestionFilters({\n      unit_id: '',\n      difficulty_id: '',\n      level_id: '',\n      group_id: '',\n      text_search: '',\n    });\n    setFilteredQuestions(allQuestions);\n  };\n  \n  return (\n    <Box>\n      <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\n        <Button\n          variant=\"outlined\"\n          startIcon={<ArrowBackIcon />}\n          onClick={() => navigate('/templates')}\n          sx={{ mr: 2 }}\n        >\n          Назад\n        </Button>\n        <Typography variant=\"h4\" component=\"h1\">\n          {isEditing ? 'Редагування шаблону' : 'Створення нового шаблону'}\n        </Typography>\n      </Box>\n      \n      {loading ? (\n        <Box sx={{ display: 'flex', justifyContent: 'center', my: 4 }}>\n          <CircularProgress />\n        </Box>\n      ) : (\n        <>\n          {/* Форма з основними даними шаблону */}\n          <Paper sx={{ p: 3, mb: 3 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Основна інформація\n            </Typography>\n            <Grid container spacing={3}>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  label=\"Назва шаблону\"\n                  name=\"name\"\n                  value={template.name}\n                  onChange={handleTemplateChange}\n                  fullWidth\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  label=\"Позиція\"\n                  name=\"position\"\n                  value={template.position}\n                  onChange={handleTemplateChange}\n                  fullWidth\n                  required\n                  helperText=\"Наприклад: Senior React Engineer\"\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  label=\"Опис шаблону\"\n                  name=\"description\"\n                  value={template.description}\n                  onChange={handleTemplateChange}\n                  fullWidth\n                  multiline\n                  rows={3}\n                />\n              </Grid>\n            </Grid>\n          </Paper>\n          \n          {/* Список питань в шаблоні */}\n          <Paper sx={{ p: 3, mb: 3 }}>\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n              <Typography variant=\"h6\">\n                Питання в шаблоні ({templateQuestions.length})\n              </Typography>\n              <Button\n                variant=\"contained\"\n                startIcon={<AddIcon />}\n                onClick={handleOpenAddQuestions}\n              >\n                Додати питання\n              </Button>\n            </Box>\n            \n            {templateQuestions.length === 0 ? (\n              <Typography variant=\"body1\" color=\"text.secondary\" sx={{ my: 3, textAlign: 'center' }}>\n                У цьому шаблоні ще немає питань. Додайте питання для початку роботи.\n              </Typography>\n            ) : (\n              <List>\n                {templateQuestions.map((question) => (\n                  <React.Fragment key={question.id}>\n                    <ListItem>\n                      <ListItemText\n                        primary={question.text}\n                        secondary={\n                          <>\n                            <Chip\n                              label={difficulties.find(d => d.id === question.difficulty_id)?.name || 'Невідома складність'}\n                              size=\"small\"\n                              sx={{ mr: 1 }}\n                            />\n                            <Chip\n                              label={levels.find(l => l.id === question.level_id)?.name || 'Невідомий рівень'}\n                              size=\"small\"\n                              sx={{ mr: 1 }}\n                            />\n                            <Chip\n                              label={`Вага: ${question.weight}`}\n                              size=\"small\"\n                            />\n                          </>\n                        }\n                      />\n                      <ListItemSecondaryAction>\n                        <IconButton\n                          edge=\"end\"\n                          aria-label=\"delete\"\n                          onClick={() => handleRemoveQuestion(question.id)}\n                        >\n                          <DeleteIcon />\n                        </IconButton>\n                      </ListItemSecondaryAction>\n                    </ListItem>\n                    <Divider />\n                  </React.Fragment>\n                ))}\n              </List>\n            )}\n          </Paper>\n          \n          {/* Кнопка збереження */}\n          <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 3 }}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              startIcon={<SaveIcon />}\n              onClick={handleSaveTemplate}\n              disabled={!template.name || !template.position}\n            >\n              Зберегти шаблон\n            </Button>\n          </Box>\n          \n          {/* Модальне вікно для додавання питань */}\n          <Dialog\n            open={openQuestionsDialog}\n            onClose={() => setOpenQuestionsDialog(false)}\n            maxWidth=\"md\"\n            fullWidth\n          >\n            <DialogTitle>Додати питання до шаблону</DialogTitle>\n            <DialogContent>\n              {/* Фільтри для питань */}\n              <Paper sx={{ p: 2, mb: 2 }}>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  Фільтри\n                </Typography>\n                <Grid container spacing={2} alignItems=\"center\">\n                  <Grid item xs={12} sm={6} md={4}>\n                    <FormControl fullWidth size=\"small\">\n                      <InputLabel>Підрозділ/Проект</InputLabel>\n                      <Select\n                        name=\"unit_id\"\n                        value={questionFilters.unit_id}\n                        onChange={handleQuestionFilterChange}\n                        label=\"Підрозділ/Проект\"\n                      >\n                        <MenuItem value=\"\">Всі</MenuItem>\n                        {units.map((unit) => (\n                          <MenuItem key={unit.id} value={unit.id}>\n                            {unit.name}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={4}>\n                    <FormControl fullWidth size=\"small\">\n                      <InputLabel>Складність</InputLabel>\n                      <Select\n                        name=\"difficulty_id\"\n                        value={questionFilters.difficulty_id}\n                        onChange={handleQuestionFilterChange}\n                        label=\"Складність\"\n                      >\n                        <MenuItem value=\"\">Всі</MenuItem>\n                        {difficulties.map((difficulty) => (\n                          <MenuItem key={difficulty.id} value={difficulty.id}>\n                            {difficulty.name}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={4}>\n                    <FormControl fullWidth size=\"small\">\n                      <InputLabel>Рівень</InputLabel>\n                      <Select\n                        name=\"level_id\"\n                        value={questionFilters.level_id}\n                        onChange={handleQuestionFilterChange}\n                        label=\"Рівень\"\n                      >\n                        <MenuItem value=\"\">Всі</MenuItem>\n                        {levels.map((level) => (\n                          <MenuItem key={level.id} value={level.id}>\n                            {level.name}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={4}>\n                    <TextField\n                      name=\"text_search\"\n                      label=\"Пошук за текстом\"\n                      value={questionFilters.text_search}\n                      onChange={handleQuestionFilterChange}\n                      size=\"small\"\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={8}>\n                    <Button\n                      variant=\"outlined\"\n                      startIcon={<SearchIcon />}\n                      onClick={handleApplyQuestionFilters}\n                      sx={{ mr: 1 }}\n                    >\n                      Застосувати\n                    </Button>\n                    <Button variant=\"text\" onClick={handleResetQuestionFilters}>\n                      Скинути\n                    </Button>\n                  </Grid>\n                </Grid>\n              </Paper>\n              \n              {/* Список питань для вибору */}\n              <Typography variant=\"subtitle1\" gutterBottom>\n                Виберіть питання для додавання ({selectedQuestions.length} вибрано)\n              </Typography>\n              <List sx={{ maxHeight: '400px', overflow: 'auto' }}>\n                {filteredQuestions.map((question) => {\n                  const isSelected = selectedQuestions.some(q => q.id === question.id);\n                  const isAlreadyInTemplate = templateQuestions.some(q => q.id === question.id);\n                  \n                  return (\n                    <React.Fragment key={question.id}>\n                      <ListItem\n                        button\n                        onClick={() => !isAlreadyInTemplate && handleToggleQuestion(question)}\n                        selected={isSelected}\n                        disabled={isAlreadyInTemplate}\n                        sx={{\n                          opacity: isAlreadyInTemplate ? 0.5 : 1,\n                          bgcolor: isAlreadyInTemplate ? 'rgba(0, 0, 0, 0.05)' : 'inherit',\n                        }}\n                      >\n                        <ListItemText\n                          primary={question.text}\n                          secondary={\n                            <>\n                              <Chip\n                                label={difficulties.find(d => d.id === question.difficulty_id)?.name || 'Невідома складність'}\n                                size=\"small\"\n                                sx={{ mr: 1 }}\n                              />\n                              <Chip\n                                label={levels.find(l => l.id === question.level_id)?.name || 'Невідомий рівень'}\n                                size=\"small\"\n                                sx={{ mr: 1 }}\n                              />\n                              <Chip\n                                label={`Вага: ${question.weight}`}\n                                size=\"small\"\n                              />\n                              {isAlreadyInTemplate && (\n                                <Chip\n                                  label=\"Вже в шаблоні\"\n                                  color=\"primary\"\n                                  size=\"small\"\n                                  sx={{ ml: 1 }}\n                                />\n                              )}\n                            </>\n                          }\n                        />\n                      </ListItem>\n                      <Divider />\n                    </React.Fragment>\n                  );\n                })}\n                {filteredQuestions.length === 0 && (\n                  <Typography variant=\"body2\" sx={{ p: 2, textAlign: 'center' }}>\n                    Не знайдено жодного питання за вказаними критеріями\n                  </Typography>\n                )}\n              </List>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={() => setOpenQuestionsDialog(false)}>Скасувати</Button>\n              <Button\n                onClick={handleAddSelectedQuestions}\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={selectedQuestions.length === 0}\n              >\n                Додати вибрані ({selectedQuestions.length})\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </>\n      )}\n    </Box>\n  );\n}\n\nexport default TemplateForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}